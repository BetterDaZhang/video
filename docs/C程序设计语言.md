## C程序设计语言

### 1. 导言

EOF 文件结束符

%d %.1f %6.1f

getchar()

函数中的每个局部变量只在函数被调用时存在，在函数执行完毕退出时消失。 =>自动变量。

外部变量  extern

### 2. 类型、运算符和表达式

\ooo 代表1～3个八进制数字。\013

\xhh 代表一个或多个十六进制数据 \xb

\a响铃符   \b回退符 \f换页符   \n换行符.  \r 回车符   \t 横向制表符   \v 纵向制表符

\\\反斜杠    \?问号  \'单引号\" 双引号 \ooo 八进制数 \xhh 十六进制数

字符常量'\0'表示值为 0 的字符，也就是空字符(null)。我们通常用'\0'的形式代替 0， 以强调某些表达式的字符属性，但其数字值为 0。

字符串的内部表示使用一个空字符'\0'作为 串的结尾，因此。存储字符串的物理存储单元数比括在双引号中的字符数多一个。

我们应该搞清楚字符常量与仅包含一个字符的字符串之间的区别:'x'与"x"是不同的。 前者是一个整数，其值是字母 x 在机器字符集中对应的数值(内部表示值);后者是一个包含 一个字符(即字母 x)以及一个结束符'\0'的字符数组。

但是，在某些场合下 goto 语句还是用得着的。最常见的用法是终止程序在某些深度嵌套 的结构中的处理过程，例如一次跳出两层或多层循环。这种情况下使用 break 语句是不能达 到目的的，它只能从最内层循环退出到上一级的循环。下面是使用 goto 语句的一个例子:

```c
for ( ... )
for ( ... ) {
  ...
  if (disaster)
    goto error;
} ...

error:
/* clean up the mess */

```

由于 C 语言不允许在一个函数中定义其它函数， 因此函数本身是“外部的”。

外部变量的用途还表现在它们与内部变量相比具有更大的作用域和更长的生存期。

而外部变量是永久存在的，它们的值在一次函数调用到下一次函数调用之间保持不变。 因此，如果两个函数必须共享某些数据，而这两个函数互不调用对方，这种情况下最方便的 方式便是把这些共享数据定义为外部变量，而不是作为函数参数传递。

> 下面我们通过一个更复杂的例子来说明这一点。我们的目标是编写一个具有加(+)、减 (-)、乘(*)、除(/)四则运算功能的计算器程序。为了更容易实现，我们在计算器中使用 **逆波兰表示法**代替普通的中辍表示法(逆波兰表示法用在某些袖珍计算器中，Forth 与 Postscript 等语言也使用了逆波兰表示法)。
> 在逆波兰表示法中，所有运算符都跟在操作数的后面。比如，下列中缀表达式:
> (1 – 2) * (4 + 5)
> 采用逆波兰表示法表示为:
> 12-45+*
> 逆波兰表示法中不需要圆括号，只要知道每个运算符需要几个操作数就不会引起歧义。
>
> 计算器程序的实现很简单。每个操作数都被依次压入到栈中;当一个运算符到达时，从 栈中弹出相应数目的操作数(对二元运算符来说是两个操作数)，把该运算符作用于弹出的操 作数，并把运算结果再压入到栈中。例如，对上面的逆波兰表达式来说，首先把 1 和 2 压入 到栈中，再用两者之差-1 取代它们;然后，将 4 和 5 压入到栈中，再用两者之和 9 取代它们。 最后，从栈中取出栈顶的-1 和 9，并把它们的积-9 压入到栈顶。到达输入行的末尾时，把栈顶 的值弹出并打印。
> 这样，该程序的结构就构成一个循环，每次循环对一个运算符及相应的操作数执行一次 操作:
>     while (下一个运算符或操作数不是文件结束指示符) if (是数)
>     将该数压入到栈中 else if (是运算符)
>           弹出所需数目的操作数
>           执行运算
>           将结果压入到栈中
>     else if (是换行符) 弹出并打印栈顶的值
>     else
>     出错
>
> 栈的压入与弹出操作比较简单，但是，如果把错误检测与恢复操作都加进来，该程序就 显得很长了，最好把它们设计成独立的函数，而不要把它们作为程序中重复的代码段使用。 另外还需要一个单独的函数来取下一个输入运算符或操作数。
>
> 到目前为止，我们还没有讨论设计中的一个重要问题:把栈放在哪儿?也就是说，哪些 例程可以直接访问它?一种可能是把它放在主函数 main 中，把栈及其当前位置作为参数传递 给对它执行压入或弹出操作的函数。但是，main 函数不需要了解控制栈的变量信息，它只进 行压入与弹出操作。因此，可以把栈及相关信息放在外部变量中，并只供 push 与 pop 函数 访问，而不能被 main 函数访问。
>       #include... /* 一些包含头文件 */ #define... /* 一些 define 定义 */
>       main 使用的函数声明 main() { ... }
>       push 与 pop 所使用的外部变量 void push( double f) { ... } double pop(void) { ... }
>       int getop(char s[]) { ... }
>       被 getop 调用的函数
>
> 我们在后面部分将讨论如何把该程序分割成两个或多个源文件。



```


```



```
中序转后序

```









